## 客户端

### 3.21

> 实现客户端中的秘钥协商功能, 以及函数的构造函数

**构造函数:**

```
读取setting.json 文件完成端口以及ip等信息的初始化,
使用json文件是为了提高应用的灵活性
```



**秘钥协商函数:**

```
1. 创建非对称加密秘钥对, 自己保留私钥, 发给服务器公钥
2. 对结构体进行初始化, 以及数据签名
3. 调用套接字通信, 发送给服务器
4. 接受服务器发送回来的数据
5. 保存私钥, 完成秘钥协商
```





### 4.1

> 完成了秘钥协商的初始版本, 但是在完成时遇到了不少的错误

- recvMsg 报错,  当加入tcp的 map容器时, 将未初始化的tcp加入到了map中导致后续操作时 ,使用的是未初始化的对象, this指针为空.
- 文件操作没有权限: 当cmake编译程序时, 未将配置文件等包含进去, 导致出现了该问题
- 签名校验失败: 数据的长度大于了签名的长度, 导致签名校验偶尔会出现错误, 利用哈希加密, 保证长度缩短, 不会出现报错



